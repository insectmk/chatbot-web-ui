"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkczhealth_frontend"] = self["webpackChunkczhealth_frontend"] || []).push([["src_views_system_Role_vue"],{

/***/ "./src/views/system/Role.vue":
/*!***********************************!*\
  !*** ./src/views/system/Role.vue ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Role_vue_vue_type_template_id_0e2fe568___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Role.vue?vue&type=template&id=0e2fe568& */ \"./src/views/system/Role.vue?vue&type=template&id=0e2fe568&\");\n/* harmony import */ var _Role_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Role.vue?vue&type=script&lang=js& */ \"./src/views/system/Role.vue?vue&type=script&lang=js&\");\n/* harmony import */ var _node_modules_vue_vue_loader_v15_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js */ \"./node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\");\n\n\n\n\n\n/* normalize component */\n;\nvar component = (0,_node_modules_vue_vue_loader_v15_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n  _Role_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  _Role_vue_vue_type_template_id_0e2fe568___WEBPACK_IMPORTED_MODULE_0__.render,\n  _Role_vue_vue_type_template_id_0e2fe568___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = \"src/views/system/Role.vue\"\n/* harmony default export */ __webpack_exports__[\"default\"] = (component.exports);\n\n//# sourceURL=webpack://czhealth-frontend/./src/views/system/Role.vue?");

/***/ }),

/***/ "./src/views/system/Role.vue?vue&type=script&lang=js&":
/*!************************************************************!*\
  !*** ./src/views/system/Role.vue?vue&type=script&lang=js& ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_babel_loader_lib_index_js_clonedRuleSet_40_use_0_node_modules_vue_vue_loader_v15_lib_index_js_vue_loader_options_Role_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js& */ \"./node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/views/system/Role.vue?vue&type=script&lang=js&\");\n /* harmony default export */ __webpack_exports__[\"default\"] = (_node_modules_babel_loader_lib_index_js_clonedRuleSet_40_use_0_node_modules_vue_vue_loader_v15_lib_index_js_vue_loader_options_Role_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[\"default\"]); \n\n//# sourceURL=webpack://czhealth-frontend/./src/views/system/Role.vue?");

/***/ }),

/***/ "./src/views/system/Role.vue?vue&type=template&id=0e2fe568&":
/*!******************************************************************!*\
  !*** ./src/views/system/Role.vue?vue&type=template&id=0e2fe568& ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   render: function() { return /* reexport safe */ _node_modules_babel_loader_lib_index_js_clonedRuleSet_40_use_0_node_modules_vue_vue_loader_v15_lib_loaders_templateLoader_js_ruleSet_1_rules_3_node_modules_vue_vue_loader_v15_lib_index_js_vue_loader_options_Role_vue_vue_type_template_id_0e2fe568___WEBPACK_IMPORTED_MODULE_0__.render; },\n/* harmony export */   staticRenderFns: function() { return /* reexport safe */ _node_modules_babel_loader_lib_index_js_clonedRuleSet_40_use_0_node_modules_vue_vue_loader_v15_lib_loaders_templateLoader_js_ruleSet_1_rules_3_node_modules_vue_vue_loader_v15_lib_index_js_vue_loader_options_Role_vue_vue_type_template_id_0e2fe568___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns; }\n/* harmony export */ });\n/* harmony import */ var _node_modules_babel_loader_lib_index_js_clonedRuleSet_40_use_0_node_modules_vue_vue_loader_v15_lib_loaders_templateLoader_js_ruleSet_1_rules_3_node_modules_vue_vue_loader_v15_lib_index_js_vue_loader_options_Role_vue_vue_type_template_id_0e2fe568___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Role.vue?vue&type=template&id=0e2fe568& */ \"./node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/views/system/Role.vue?vue&type=template&id=0e2fe568&\");\n\n\n//# sourceURL=webpack://czhealth-frontend/./src/views/system/Role.vue?");

/***/ }),

/***/ "./node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/views/system/Role.vue?vue&type=script&lang=js&":
/*!**************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/views/system/Role.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _components_Table_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/components/Table.vue */ \"./src/components/Table.vue\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api */ \"./src/api/index.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data() {\n    return {\n      // 设置树形菜单对应属性\n      menuDefaultProps: {\n        // 子节点的属性名称\n        children: 'children',\n        // 显示的名字\n        label: 'title'\n      },\n      allMenuTree: [],\n      // 树形结构的菜单\n      tableHead: [],\n      // 表头\n      operation: [],\n      // 操作\n      queryPageBean: {\n        // 分页查询条件\n        currentPage: 1,\n        // 当前页\n        pageSize: 10,\n        // 每页记录数\n        queryString: '' // 查询条件\n      },\n\n      dialogFormVisible: false,\n      // 新增框显示\n      dialogFormVisibleEdit: false,\n      // 编辑框显示\n      formData: {\n        // 表单数据\n        menuIds: [] // 绑定的菜单ID\n      },\n\n      page: {} // 分页对象\n    };\n  },\n\n  watch: {\n    // 监听查询条件变化\n    'queryPageBean.queryString': {\n      handler(newValue, oldValue) {\n        this.queryPageBean.currentPage = 1; // 将页数设为1\n      },\n\n      immediate: true\n    }\n  },\n  methods: {\n    // 编辑角色\n    handleEdit() {\n      // 将选中的菜单赋值到表单的menuIds中\n      this.formData.menuIds = this.$refs.tree.getCheckedKeys().filter(element => element !== 0);\n      (0,_api__WEBPACK_IMPORTED_MODULE_1__.editRole)(this.formData).then(res => {\n        if (res.data.flag) {\n          this.$message.success(res.data.message);\n          this.formData = {}; // 清空表单数据\n          this.dialogFormVisibleEdit = false; // 关闭编辑框\n        } else {\n          this.$message.error(res.data.message);\n        }\n      });\n    },\n    // 定义弹出新增页面需要做的事\n    handleAddPage() {\n      this.findAllMenusAsTree(); // 查询所有的菜单（树形结构）\n      this.dialogFormVisible = true;\n    },\n    // 新增角色\n    handleAdd() {\n      // 将选中的菜单赋值到表单的menuIds中\n      this.formData.menuIds = this.$refs.tree.getCheckedKeys().filter(element => element !== 0);\n      // 发送请求\n      (0,_api__WEBPACK_IMPORTED_MODULE_1__.addRole)(this.formData).then(res => {\n        if (res.data.flag) {\n          this.$message({\n            message: res.data.message,\n            type: 'success'\n          });\n          this.formData.menuIds = []; // 清空菜单ID\n          this.findPage();\n          this.dialogFormVisible = false;\n        } else {\n          this.$message.error(res.data.message);\n        }\n      });\n    },\n    // 查询所有菜单（树形结构）\n    findAllMenusAsTree() {\n      (0,_api__WEBPACK_IMPORTED_MODULE_1__.getAllMenusToTree)().then(res => {\n        if (res.data.flag) {\n          this.allMenuTree = [{\n            id: 0,\n            title: \"传智健康\",\n            parentMenuId: null,\n            children: res.data.data\n          }];\n        } else {\n          this.$message.error(res.data.message);\n        }\n      });\n    },\n    // 查询角色\n    findPage() {\n      (0,_api__WEBPACK_IMPORTED_MODULE_1__.getRoles)(this.queryPageBean).then(res => {\n        this.page = res.data.data;\n      });\n    },\n    // 当前页发生变化\n    handleCurrentChange(val) {\n      this.queryPageBean.currentPage = val;\n      this.findPage();\n    }\n  },\n  created() {\n    // 自定义操作\n    this.operation = [{\n      type: 'primary',\n      name: '编辑',\n      action: row => {\n        this.findAllMenusAsTree(); // 查询所有的菜单（树形结构）\n        (0,_api__WEBPACK_IMPORTED_MODULE_1__.getMenuIdsByRoleId)({\n          id: row.id\n        }).then(res => {\n          this.formData = row; // 回显本行数据\n          this.formData.menuIds = res.data.data; // 设置关联的菜单\n          this.dialogFormVisibleEdit = true; // 显示编辑框\n        });\n      },\n\n      isDisabled: row => {\n        return false;\n      }\n    }, {\n      type: 'danger',\n      name: '删除',\n      action: row => {\n        console.log(row);\n      },\n      isDisabled: row => {\n        return false;\n      }\n    }];\n    // 自定义表头\n    this.tableHead = [{\n      name: '名称',\n      prop: 'name'\n    }, {\n      name: '关键字',\n      prop: 'keyword'\n    }, {\n      name: '描述',\n      prop: 'description'\n    }];\n    // 获取页面数据\n    this.findPage();\n  },\n  components: {\n    Table: _components_Table_vue__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n  }\n});\n\n//# sourceURL=webpack://czhealth-frontend/./src/views/system/Role.vue?./node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use%5B0%5D!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options");

/***/ }),

/***/ "./node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/views/system/Role.vue?vue&type=template&id=0e2fe568&":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/views/system/Role.vue?vue&type=template&id=0e2fe568& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   render: function() { return /* binding */ render; },\n/* harmony export */   staticRenderFns: function() { return /* binding */ staticRenderFns; }\n/* harmony export */ });\nvar render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c(\"el-main\", [_c(\"Navbar\"), _c(\"el-row\", [_c(\"el-col\", {\n    attrs: {\n      span: 24\n    }\n  }, [_c(\"el-input\", {\n    staticStyle: {\n      width: \"200px\"\n    },\n    attrs: {\n      placeholder: \"名称/关键字\"\n    },\n    model: {\n      value: _vm.queryPageBean.queryString,\n      callback: function ($$v) {\n        _vm.$set(_vm.queryPageBean, \"queryString\", $$v);\n      },\n      expression: \"queryPageBean.queryString\"\n    }\n  }), _c(\"el-button\", {\n    on: {\n      click: function ($event) {\n        return _vm.findPage(_vm.queryPageBean);\n      }\n    }\n  }, [_vm._v(\"查询\")]), _c(\"el-button\", {\n    attrs: {\n      type: \"primary\"\n    },\n    on: {\n      click: function ($event) {\n        return _vm.handleAddPage();\n      }\n    }\n  }, [_vm._v(\"新建\")])], 1)], 1), _c(\"Table\", {\n    attrs: {\n      \"table-data\": _vm.page.records,\n      \"table-head\": _vm.tableHead,\n      operation: _vm.operation\n    }\n  }), _c(\"el-pagination\", {\n    attrs: {\n      align: \"right\",\n      \"current-page\": _vm.queryPageBean.currentPage,\n      \"page-size\": _vm.queryPageBean.pageSize,\n      layout: \"total, prev, pager, next, jumper\",\n      total: _vm.page.total\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange\n    }\n  }), _c(\"el-dialog\", {\n    attrs: {\n      title: \"新建角色\",\n      visible: _vm.dialogFormVisible\n    },\n    on: {\n      \"update:visible\": function ($event) {\n        _vm.dialogFormVisible = $event;\n      }\n    }\n  }, [_c(\"el-tabs\", {\n    attrs: {\n      value: \"first\",\n      type: \"card\"\n    }\n  }, [_c(\"el-tab-pane\", {\n    attrs: {\n      label: \"基本信息\",\n      name: \"first\"\n    }\n  }, [_c(\"el-form\", {\n    attrs: {\n      model: _vm.formData,\n      \"label-position\": \"top\"\n    }\n  }, [_c(\"el-row\", {\n    attrs: {\n      gutter: 20\n    }\n  }, [_c(\"el-col\", {\n    attrs: {\n      span: 12\n    }\n  }, [_c(\"el-form-item\", {\n    attrs: {\n      label: \"名称\",\n      prop: \"name\"\n    }\n  }, [_c(\"el-input\", {\n    model: {\n      value: _vm.formData.name,\n      callback: function ($$v) {\n        _vm.$set(_vm.formData, \"name\", $$v);\n      },\n      expression: \"formData.name\"\n    }\n  })], 1)], 1), _c(\"el-col\", {\n    attrs: {\n      span: 12\n    }\n  }, [_c(\"el-form-item\", {\n    attrs: {\n      label: \"关键字\",\n      prop: \"keyword\"\n    }\n  }, [_c(\"el-input\", {\n    model: {\n      value: _vm.formData.keyword,\n      callback: function ($$v) {\n        _vm.$set(_vm.formData, \"keyword\", $$v);\n      },\n      expression: \"formData.keyword\"\n    }\n  })], 1)], 1), _c(\"el-col\", {\n    attrs: {\n      span: 24\n    }\n  }, [_c(\"el-form-item\", {\n    attrs: {\n      label: \"描述\"\n    }\n  }, [_c(\"el-input\", {\n    attrs: {\n      type: \"textarea\"\n    },\n    model: {\n      value: _vm.formData.description,\n      callback: function ($$v) {\n        _vm.$set(_vm.formData, \"description\", $$v);\n      },\n      expression: \"formData.description\"\n    }\n  })], 1)], 1)], 1)], 1)], 1), _c(\"el-tab-pane\", {\n    attrs: {\n      label: \"所含菜单\",\n      name: \"second\"\n    }\n  }, [_c(\"el-row\", [_c(\"el-col\", {\n    attrs: {\n      span: 24\n    }\n  }, [_c(\"el-tree\", {\n    ref: \"tree\",\n    attrs: {\n      data: _vm.allMenuTree,\n      props: _vm.menuDefaultProps,\n      \"default-expanded-keys\": [0],\n      \"node-key\": \"id\",\n      \"show-checkbox\": \"\"\n    }\n  })], 1)], 1)], 1)], 1), _c(\"div\", {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      slot: \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c(\"el-button\", {\n    on: {\n      click: function ($event) {\n        _vm.dialogFormVisible = false;\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _c(\"el-button\", {\n    attrs: {\n      type: \"primary\"\n    },\n    on: {\n      click: _vm.handleAdd\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1), _c(\"el-dialog\", {\n    attrs: {\n      title: \"编辑角色\",\n      visible: _vm.dialogFormVisibleEdit\n    },\n    on: {\n      \"update:visible\": function ($event) {\n        _vm.dialogFormVisibleEdit = $event;\n      }\n    }\n  }, [_c(\"el-tabs\", {\n    attrs: {\n      value: \"first\",\n      type: \"card\"\n    }\n  }, [_c(\"el-tab-pane\", {\n    attrs: {\n      label: \"基本信息\",\n      name: \"first\"\n    }\n  }, [_c(\"el-form\", {\n    attrs: {\n      model: _vm.formData,\n      \"label-position\": \"top\"\n    }\n  }, [_c(\"el-row\", {\n    attrs: {\n      gutter: 20\n    }\n  }, [_c(\"el-col\", {\n    attrs: {\n      span: 12\n    }\n  }, [_c(\"el-form-item\", {\n    attrs: {\n      label: \"名称\",\n      prop: \"name\"\n    }\n  }, [_c(\"el-input\", {\n    model: {\n      value: _vm.formData.name,\n      callback: function ($$v) {\n        _vm.$set(_vm.formData, \"name\", $$v);\n      },\n      expression: \"formData.name\"\n    }\n  })], 1)], 1), _c(\"el-col\", {\n    attrs: {\n      span: 12\n    }\n  }, [_c(\"el-form-item\", {\n    attrs: {\n      label: \"关键字\",\n      prop: \"keyword\"\n    }\n  }, [_c(\"el-input\", {\n    model: {\n      value: _vm.formData.keyword,\n      callback: function ($$v) {\n        _vm.$set(_vm.formData, \"keyword\", $$v);\n      },\n      expression: \"formData.keyword\"\n    }\n  })], 1)], 1), _c(\"el-col\", {\n    attrs: {\n      span: 24\n    }\n  }, [_c(\"el-form-item\", {\n    attrs: {\n      label: \"描述\"\n    }\n  }, [_c(\"el-input\", {\n    attrs: {\n      type: \"textarea\"\n    },\n    model: {\n      value: _vm.formData.description,\n      callback: function ($$v) {\n        _vm.$set(_vm.formData, \"description\", $$v);\n      },\n      expression: \"formData.description\"\n    }\n  })], 1)], 1)], 1)], 1)], 1), _c(\"el-tab-pane\", {\n    attrs: {\n      label: \"所含菜单\",\n      name: \"second\"\n    }\n  }, [_c(\"el-row\", [_c(\"el-col\", {\n    attrs: {\n      span: 24\n    }\n  }, [_c(\"el-tree\", {\n    ref: \"tree\",\n    attrs: {\n      data: _vm.allMenuTree,\n      props: _vm.menuDefaultProps,\n      \"default-expanded-keys\": [0],\n      \"default-checked-keys\": _vm.formData.menuIds,\n      \"node-key\": \"id\",\n      \"show-checkbox\": \"\"\n    }\n  })], 1)], 1)], 1)], 1), _c(\"div\", {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      slot: \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c(\"el-button\", {\n    on: {\n      click: function ($event) {\n        _vm.dialogFormVisibleEdit = false;\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _c(\"el-button\", {\n    attrs: {\n      type: \"primary\"\n    },\n    on: {\n      click: _vm.handleEdit\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1);\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\n\n\n//# sourceURL=webpack://czhealth-frontend/./src/views/system/Role.vue?./node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use%5B0%5D!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??ruleSet%5B1%5D.rules%5B3%5D!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options");

/***/ })

}]);